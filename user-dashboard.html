<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Dashboard - Capital One Trust</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #f4f6f9; }
    .sidebar {
      position: fixed; top: 0; left: -250px; width: 250px; height: 100%;
      background: #0a2a66; color: white; transition: 0.3s; padding-top: 60px; z-index: 1000;
    }
    .sidebar a {
      display: block; padding: 15px 20px; color: white; text-decoration: none;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .sidebar a:hover { background: #133b8a; }
    .openbtn { font-size: 22px; cursor: pointer; background: #0a2a66; color: white;
      padding: 10px 15px; border: none; }
    #main { transition: margin-left .3s; padding: 16px; }

    /* Profile Section */
    .profile { text-align: center; margin-top: 20px; }
    .profile img {
      width: 100px; height: 100px; border-radius: 50%; object-fit: cover;
      border: 3px solid #0a2a66;
    }
    .profile h2 { margin: 10px 0 5px; }
    .profile p { margin: 3px 0; color: #555; }

    /* Credit Card */
    .credit-card {
      background: linear-gradient(135deg, #1e3c72, #2a5298); color: white;
      border-radius: 15px; padding: 20px; width: 340px; margin: 20px auto;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .credit-card h3 { margin: 0; font-size: 20px; }
    .card-number { font-size: 22px; letter-spacing: 3px; margin: 20px 0; }
    .card-details { display: flex; justify-content: space-between; font-size: 14px; }
    .card-holder { margin-top: 15px; font-size: 16px; font-weight: bold; }

    /* Dashboard Content */
    .dashboard {
      max-width: 800px; margin: 30px auto; padding: 20px; background: white;
      border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .balance { font-size: 22px; font-weight: bold; color: #0a2a66; margin-bottom: 20px; }
    .actions button {
      padding: 10px 20px; margin: 10px; background: #0a2a66; color: white;
      border: none; border-radius: 8px; cursor: pointer;
    }
    .actions button:hover { background: #133b8a; }
    .transactions { margin-top: 20px; }
    .transactions h3 { margin-bottom: 10px; }
    .transactions table { width: 100%; border-collapse: collapse; }
    .transactions th, .transactions td {
      border: 1px solid #ddd; padding: 10px; text-align: left;
    }
    .transactions th { background: #f4f6f9; }

    /* Settings Section */
    .settings {
      max-width: 600px; margin: 20px auto; padding: 20px; background: white;
      border-radius: 12px; display: none; /* hidden until opened */
    }
    .settings h3 { margin-bottom: 15px; }
    .settings input { width: 100%; padding: 10px; margin: 8px 0; }
    .settings button {
      background: #0a2a66; color: white; padding: 10px; border: none;
      border-radius: 8px; cursor: pointer;
    }
  </style>
</head>
<body>

<!-- Sidebar -->
<div id="mySidebar" class="sidebar">
  <a href="#" onclick="showSection('dashboardSection')">Dashboard</a>
  <a href="#">Wire Transfer</a>
  <a href="#">Deposit</a>
  <a href="#">Transactions</a>
  <a href="#" onclick="showSection('settingsSection')">Settings</a>
  <a href="#">Logout</a>
</div>

<!-- Top Button -->
<div id="main">
  <button class="openbtn" onclick="toggleSidebar()">☰ Menu</button>

  <!-- Profile Section -->
  <div class="profile">
    <img src="https://via.placeholder.com/100" alt="User Picture" id="profilePic">
    <h2 id="userName">John Doe</h2>
    <p>Date of Birth: <span id="userDob">12/05/1990</span></p>
    <p>House Address: <span id="userAddress">123 Main Street, Accra, Ghana</span></p>
  </div>

  <!-- Credit Card -->
  <div class="credit-card">
    <h3>Capital One Trust</h3>
    <div class="card-number">4532 9123 6789 4521</div>
    <div class="card-details">
      <div><strong>VALID THRU</strong><br>08/28</div>
      <div><strong>CVV</strong><br>274</div>
    </div>
    <div class="card-holder" id="cardHolder">JOHN DOE</div>
  </div>

  <!-- Dashboard Content -->
  <div id="dashboardSection" class="dashboard">
    <div class="balance">Account Balance: $5,230.00</div>
    <div class="actions">
      <button>Send Money</button>
      <button>Deposit</button>
      <button>Withdraw</button>
    </div>
    <div class="transactions">
      <h3>Recent Transactions</h3>
      <table>
        <tr>
          <th>Date</th><th>Description</th><th>Amount</th><th>Status</th>
        </tr>
        <tr><td>27 Aug 2025</td><td>Wire Transfer to Mark</td><td>-$300.00</td><td>Completed</td></tr>
        <tr><td>25 Aug 2025</td><td>Deposit</td><td>+$1,000.00</td><td>Completed</td></tr>
        <tr><td>20 Aug 2025</td><td>ATM Withdrawal</td><td>-$200.00</td><td>Completed</td></tr>
      </table>
    </div>
  </div>

  <!-- Settings Section -->
  <div id="settingsSection" class="settings">
    <h3>Update Profile</h3>
    <label>Upload Picture:</label>
    <input type="file" id="newProfilePic" accept="image/*"><br>
    <label>Date of Birth:</label>
    <input type="date" id="newDob"><br>
    <label>House Address:</label>
    <input type="text" id="newAddress" placeholder="Enter new address"><br>
    <button onclick="saveSettings()">Save Changes</button>
  </div>
</div>

<script>
  function toggleSidebar() {
    const sidebar = document.getElementById("mySidebar");
    sidebar.style.left = (sidebar.style.left === "-250px") ? "0" : "-250px";
  }

  function showSection(sectionId) {
    document.getElementById("dashboardSection").style.display = "none";
    document.getElementById("settingsSection").style.display = "none";
    document.getElementById(sectionId).style.display = "block";
  }

  function saveSettings() {
    const dob = document.getElementById("newDob").value;
    const address = document.getElementById("newAddress").value;
    const profilePicInput = document.getElementById("newProfilePic").files[0];

    if (dob) {
      localStorage.setItem("dob", dob);
      document.getElementById("userDob").innerText = dob;
    }
    if (address) {
      localStorage.setItem("address", address);
      document.getElementById("userAddress").innerText = address;
    }

    if (profilePicInput) {
      const reader = new FileReader();
      reader.onloadend = function() {
        localStorage.setItem("profilePic", reader.result);
        document.getElementById("profilePic").src = reader.result;
      };
      reader.readAsDataURL(profilePicInput);
    }
    alert("✅ Profile updated successfully!");
    showSection("dashboardSection");
  }

  // Load saved data when page opens
  window.onload = function() {
    if(localStorage.getItem("fullname")) {
      document.getElementById("userName").innerText = localStorage.getItem("fullname");
      document.getElementById("cardHolder").innerText = localStorage.getItem("fullname").toUpperCase();
    }
    if(localStorage.getItem("dob")) {
      document.getElementById("userDob").innerText = localStorage.getItem("dob");
    }
    if(localStorage.getItem("address")) {
      document.getElementById("userAddress").innerText = localStorage.getItem("address");
    }
    if(localStorage.getItem("profilePic")) {
      document.getElementById("profilePic").src = localStorage.getItem("profilePic");
    }
  }
</script>
</body>
</html>
