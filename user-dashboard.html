<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>User Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; padding: 0; }
    .dashboard { max-width: 700px; margin: 40px auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
    h2 { color: #d40000; }
    .info { margin: 15px 0; }
    .balance { font-size: 22px; font-weight: bold; color: green; }
    .history { margin-top: 20px; }
    .history h3 { margin-bottom: 10px; }
    .history ul { list-style: none; padding: 0; }
    .history li { padding: 8px; border-bottom: 1px solid #ddd; }
    button { padding: 10px 15px; border: none; background: #d40000; color: white; border-radius: 5px; cursor: pointer; }
    button:hover { opacity: 0.9; }
  </style>
</head>
<body>

<div class="dashboard">
  <h2>Welcome, <span id="userName"></span></h2>
  <div class="info">
    <p><b>Account Number:</b> <span id="accountNumber"></span></p>
    <p class="balance">Balance: $<span id="balance">0.00</span></p>
  </div>

  <div class="history">
    <h3>Transaction History</h3>
    <ul id="historyList"></ul>
  </div>

  <button onclick="logout()">Logout</button>
</div>

<script>
  // Load logged-in user
  let loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));

  if (!loggedInUser) {
    // If no user logged in, go back to login
    window.location.href = "login.html";
  } else {
    document.getElementById("userName").innerText = loggedInUser.fullName;
    document.getElementById("accountNumber").innerText = loggedInUser.accountNumber;
    document.getElementById("balance").innerText = loggedInUser.balance.toFixed(2);

    // Show history
    let historyList = document.getElementById("historyList");
    if (loggedInUser.history.length === 0) {
      historyList.innerHTML = "<li>No transactions yet</li>";
    } else {
      loggedInUser.history.forEach(tx => {
        let li = document.createElement("li");
        li.textContent = tx;
        historyList.appendChild(li);
      });
    }
  }

  // Logout function
  function logout() {
    localStorage.removeItem("loggedInUser");
    window.location.href = "login.html";
  }
</script>

</body>
</html>
